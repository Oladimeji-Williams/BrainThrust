2025-03-19 07:46:52.473 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 07:46:52.544 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:46:52 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-19 07:46:52.694 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:46:52 AM'.
2025-03-19 07:46:52.725 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-19 07:46:52.750 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-19 07:46:52.756 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 401 0 null 283.7444ms
2025-03-19 07:46:59.028 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 07:46:59.032 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:46:59 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-19 07:46:59.040 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:46:59 AM'.
2025-03-19 07:46:59.047 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)
2025-03-19 07:46:59.050 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-19 07:46:59.052 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 401 0 null 23.735ms
2025-03-19 07:54:25.103 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 07:54:25.111 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:54:25 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-19 07:54:25.147 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:54:25 AM'.
2025-03-19 07:54:25.149 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 07:54:25.150 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 07:54:25.152 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 07:54:25.157 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 07:54:26.373 +01:00 [INF] Executed DbCommand (41ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 07:54:26.386 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 07:54:26.390 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 07:54:26.396 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 1241.913ms
2025-03-19 07:54:26.399 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 07:54:26.401 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 1297.9089ms
2025-03-19 07:54:36.694 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 07:54:36.698 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:54:36 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-19 07:54:36.704 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/18/2025 9:31:40 PM', Current time (UTC): '3/19/2025 6:54:36 AM'.
2025-03-19 07:54:36.707 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 07:54:36.712 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 07:54:36.714 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 07:54:36.720 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 07:54:36.727 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 07:54:36.732 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 07:54:36.733 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 07:54:36.734 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 15.8627ms
2025-03-19 07:54:36.736 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 07:54:36.737 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 43.1129ms
2025-03-19 07:54:55.365 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 07:54:55.369 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 07:54:55.371 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 07:54:55.440 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 07:54:55.460 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 07:54:55.467 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dd47a19f-2f3a-46cf-84ad-50fb7cc6d8a6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dd47a19f-2f3a-46cf-84ad-50fb7cc6d8a6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 07:54:55.630 +01:00 [ERR] Error creating question.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:dd47a19f-2f3a-46cf-84ad-50fb7cc6d8a6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 81
2025-03-19 07:54:55.645 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 07:54:55.647 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 237.0469ms
2025-03-19 07:54:55.648 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 07:54:55.650 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 284.9025ms
2025-03-19 08:03:37.981 +01:00 [INF] Application is shutting down...
2025-03-19 08:03:55.014 +01:00 [INF] âœ… Application started successfully.
2025-03-19 08:03:55.518 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 08:03:55.640 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 08:03:55.645 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 08:03:55.647 +01:00 [INF] Hosting environment: Development
2025-03-19 08:03:55.648 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 08:05:26.640 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 08:05:26.838 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 199.4605ms
2025-03-19 08:05:27.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 08:05:27.512 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.8846ms
2025-03-19 08:05:40.233 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 08:05:40.247 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 08:05:40.319 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 08:05:40.323 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:05:40.365 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 08:05:40.626 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 08:05:41.801 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 08:05:43.861 +01:00 [INF] Executed DbCommand (75ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 08:05:44.073 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 08:05:44.081 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:05:44.110 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 3736.6609ms
2025-03-19 08:05:44.112 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:05:44.125 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 3892.0708ms
2025-03-19 08:06:22.047 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 08:06:22.138 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:06:22.165 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:06:22.363 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:06:22.681 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 08:06:22.732 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a95155a-3e4a-47ff-8152-4ed0aad26f22
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a95155a-3e4a-47ff-8152-4ed0aad26f22
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:06:22.760 +01:00 [ERR] Error creating question.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a95155a-3e4a-47ff-8152-4ed0aad26f22
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 80
2025-03-19 08:06:22.797 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:06:22.802 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 631.4715ms
2025-03-19 08:06:22.804 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:06:22.806 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 759.3428ms
2025-03-19 08:11:50.068 +01:00 [INF] Application is shutting down...
2025-03-19 08:11:58.305 +01:00 [INF] âœ… Application started successfully.
2025-03-19 08:11:58.414 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 08:11:58.524 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 08:11:58.535 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 08:11:58.545 +01:00 [INF] Hosting environment: Development
2025-03-19 08:11:58.549 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 08:12:05.756 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 08:12:05.950 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 197.3134ms
2025-03-19 08:12:06.257 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 08:12:06.515 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 258.6223ms
2025-03-19 08:12:20.215 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 08:12:20.234 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 08:12:20.300 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 08:12:20.304 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:12:20.347 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 08:12:20.567 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 08:12:21.755 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 08:12:23.756 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 08:12:23.955 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 08:12:23.965 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:12:23.994 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 3638.4486ms
2025-03-19 08:12:23.999 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:12:24.015 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 3799.7648ms
2025-03-19 08:12:54.654 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 08:12:54.746 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:12:54.756 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:12:54.868 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:12:55.219 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 08:12:55.279 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a2241e68-4316-4883-853c-67e0c3d45f8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a2241e68-4316-4883-853c-67e0c3d45f8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:12:55.318 +01:00 [ERR] Database update failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:a2241e68-4316-4883-853c-67e0c3d45f8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 85
2025-03-19 08:12:55.345 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:12:55.351 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 592.2628ms
2025-03-19 08:12:55.355 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:12:55.357 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 702.667ms
2025-03-19 08:16:15.232 +01:00 [INF] Application is shutting down...
2025-03-19 08:16:22.856 +01:00 [INF] âœ… Application started successfully.
2025-03-19 08:16:22.970 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 08:16:23.089 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 08:16:23.096 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 08:16:23.101 +01:00 [INF] Hosting environment: Development
2025-03-19 08:16:23.103 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 08:16:32.740 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 08:16:32.963 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 224.0768ms
2025-03-19 08:16:33.124 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 08:16:33.398 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 274.6001ms
2025-03-19 08:16:43.752 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 08:16:43.770 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 08:16:43.819 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 08:16:43.823 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:16:43.869 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 08:16:44.098 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 08:16:45.398 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 08:16:47.450 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 08:16:47.670 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 08:16:47.680 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType25`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:16:47.717 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 3840.3711ms
2025-03-19 08:16:47.719 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:16:47.736 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 3983.2654ms
2025-03-19 08:17:13.775 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 08:17:13.859 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:17:13.870 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:17:13.975 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:17:14.265 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 300), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 300), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 08:17:14.318 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Question_Options". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9536010c-4f00-4ed2-b763-c9481617e9b7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Question_Options". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9536010c-4f00-4ed2-b763-c9481617e9b7
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:17:14.346 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType18`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:17:14.353 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 480.6193ms
2025-03-19 08:17:14.356 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:17:14.358 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 583.4044ms
2025-03-19 08:31:48.996 +01:00 [INF] Application is shutting down...
2025-03-19 08:31:58.832 +01:00 [INF] âœ… Application started successfully.
2025-03-19 08:31:58.926 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 08:31:58.993 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 08:31:58.996 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 08:31:58.998 +01:00 [INF] Hosting environment: Development
2025-03-19 08:31:59.001 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 08:34:18.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 08:34:18.615 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 124.719ms
2025-03-19 08:34:18.875 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 08:34:19.044 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.4293ms
2025-03-19 08:34:30.422 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 08:34:30.455 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 08:34:30.487 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 08:34:30.490 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:34:30.517 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 08:34:30.643 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 08:34:31.214 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 08:34:32.766 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 08:34:32.916 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 08:34:32.924 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:34:32.954 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2431.4316ms
2025-03-19 08:34:32.956 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:34:32.968 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2545.9007ms
2025-03-19 08:35:17.738 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 08:35:17.803 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:35:17.808 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:35:17.889 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:35:18.065 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 08:35:18.103 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05acdf8f-da66-4018-99c6-3d0b7cc57eb2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05acdf8f-da66-4018-99c6-3d0b7cc57eb2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:35:18.137 +01:00 [ERR] Database update failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05acdf8f-da66-4018-99c6-3d0b7cc57eb2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 87
2025-03-19 08:35:18.168 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:35:18.178 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 367.8746ms
2025-03-19 08:35:18.181 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:35:18.188 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 449.9976ms
2025-03-19 08:36:00.193 +01:00 [INF] Application is shutting down...
2025-03-19 08:36:12.040 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 08:36:24.240 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 08:36:33.785 +01:00 [INF] âœ… Application started successfully.
2025-03-19 08:36:33.864 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 08:36:33.940 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 08:36:33.945 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 08:36:33.947 +01:00 [INF] Hosting environment: Development
2025-03-19 08:36:33.948 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 08:36:38.378 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 08:36:38.509 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 133.2881ms
2025-03-19 08:36:38.727 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 08:36:38.896 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.9973ms
2025-03-19 08:37:30.120 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 08:37:30.140 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 08:37:30.165 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 08:37:30.168 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:37:30.195 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 08:37:30.324 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 08:37:30.958 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 08:37:32.542 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 08:37:32.655 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 08:37:32.661 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:37:32.681 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2480.8606ms
2025-03-19 08:37:32.684 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:37:32.699 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2578.9135ms
2025-03-19 08:38:04.948 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 08:38:05.013 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:38:05.019 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:38:05.087 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:38:05.272 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 08:38:05.317 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7d029ee6-7fc7-4191-b6dd-6e3355498812
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7d029ee6-7fc7-4191-b6dd-6e3355498812
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:38:05.493 +01:00 [ERR] Database update failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Question_CorrectOption". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:7d029ee6-7fc7-4191-b6dd-6e3355498812
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 87
2025-03-19 08:38:05.517 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:38:05.520 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 497.9806ms
2025-03-19 08:38:05.522 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:38:05.530 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 582.0222ms
2025-03-19 08:52:28.876 +01:00 [INF] Application is shutting down...
2025-03-19 08:54:39.045 +01:00 [INF] âœ… Application started successfully.
2025-03-19 08:54:39.120 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 08:54:39.203 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 08:54:39.208 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 08:54:39.210 +01:00 [INF] Hosting environment: Development
2025-03-19 08:54:39.211 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 08:54:46.751 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 08:54:46.872 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 122.1677ms
2025-03-19 08:54:47.074 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 08:54:47.226 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.9757ms
2025-03-19 08:54:55.506 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 08:54:55.525 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 08:54:55.554 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 08:54:55.557 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:54:55.589 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 08:54:55.716 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 08:54:56.365 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 08:54:57.929 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 08:54:58.041 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 08:54:58.047 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:54:58.067 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2470.7614ms
2025-03-19 08:54:58.070 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 08:54:58.086 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2580.635ms
2025-03-19 08:55:32.158 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 08:55:32.214 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:55:32.223 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:55:32.291 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:55:32.520 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 08:55:32.562 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:55:32.596 +01:00 [ERR] Error creating question: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 57
2025-03-19 08:55:32.620 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:55:32.627 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 400.2271ms
2025-03-19 08:55:32.629 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:55:32.631 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 473.0836ms
2025-03-19 08:57:08.558 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 165
2025-03-19 08:57:08.598 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:08.600 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:57:08.675 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:57:08.686 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 08:57:08.694 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:57:08.712 +01:00 [ERR] Error creating question: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 57
2025-03-19 08:57:08.725 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:57:08.726 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 124.4515ms
2025-03-19 08:57:08.729 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:08.731 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 172.8036ms
2025-03-19 08:57:16.761 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 140
2025-03-19 08:57:16.765 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:16.767 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:57:16.779 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:57:16.781 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 3.9276ms
2025-03-19 08:57:16.784 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:16.794 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 400 null application/json; charset=utf-8 33.4ms
2025-03-19 08:57:25.136 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 140
2025-03-19 08:57:25.140 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:25.141 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:57:25.154 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:57:25.156 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 3.5122ms
2025-03-19 08:57:25.159 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:25.161 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 400 null application/json; charset=utf-8 25.3546ms
2025-03-19 08:57:35.286 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 165
2025-03-19 08:57:35.290 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:35.291 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:57:35.305 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:57:35.310 +01:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:57:35.319 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 17.9602ms
2025-03-19 08:57:35.321 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:35.323 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 400 null application/json; charset=utf-8 36.7523ms
2025-03-19 08:57:41.436 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 08:57:41.441 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:41.444 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 08:57:41.458 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 08:57:41.489 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 08:57:41.499 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 08:57:41.520 +01:00 [ERR] Error creating question: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:05e28b93-e8cf-4962-b019-0250210f6367
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 57
2025-03-19 08:57:41.532 +01:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType17`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 08:57:41.533 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 80.1046ms
2025-03-19 08:57:41.535 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 08:57:41.536 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null application/json; charset=utf-8 100.0984ms
2025-03-19 09:06:04.664 +01:00 [INF] Application is shutting down...
2025-03-19 09:06:13.308 +01:00 [INF] âœ… Application started successfully.
2025-03-19 09:06:13.475 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 09:06:13.549 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 09:06:13.553 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 09:06:13.555 +01:00 [INF] Hosting environment: Development
2025-03-19 09:06:13.556 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 09:06:13.776 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 09:06:13.912 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 136.724ms
2025-03-19 09:06:14.136 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 09:06:14.339 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 209.9206ms
2025-03-19 09:06:28.101 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 09:06:28.120 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 09:06:28.146 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 09:06:28.154 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:06:28.184 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 09:06:28.313 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 09:06:29.137 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 09:06:30.821 +01:00 [INF] Executed DbCommand (96ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 09:06:30.960 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 09:06:30.966 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType25`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 09:06:30.992 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2801.804ms
2025-03-19 09:06:30.994 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:06:31.009 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2907.8144ms
2025-03-19 09:06:55.647 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 09:06:55.719 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:06:55.727 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:06:55.903 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 09:06:55.941 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:49d8dc51-ff26-451e-8221-bd2b118a9122
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:49d8dc51-ff26-451e-8221-bd2b118a9122
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 09:06:55.966 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 235.5329ms
2025-03-19 09:06:55.968 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:06:55.971 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:49d8dc51-ff26-451e-8221-bd2b118a9122
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 47
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 09:06:56.068 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null text/plain; charset=utf-8 421.492ms
2025-03-19 09:09:02.763 +01:00 [INF] Application is shutting down...
2025-03-19 09:09:09.107 +01:00 [INF] âœ… Application started successfully.
2025-03-19 09:09:09.200 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 09:09:09.292 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 09:09:09.299 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 09:09:09.304 +01:00 [INF] Hosting environment: Development
2025-03-19 09:09:09.307 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 09:09:12.087 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 09:09:12.221 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 136.0576ms
2025-03-19 09:09:12.491 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 09:09:12.652 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.1601ms
2025-03-19 09:09:21.642 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 09:09:21.665 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 09:09:21.695 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 09:09:21.698 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:09:21.726 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 09:09:21.860 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 09:09:22.525 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 09:09:24.177 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 09:09:24.290 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 09:09:24.296 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType25`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 09:09:24.316 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2585.485ms
2025-03-19 09:09:24.319 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:09:24.332 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2689.3284ms
2025-03-19 09:09:48.548 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 09:09:48.604 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:09:48.609 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:09:48.771 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 300), @p5='?' (DbType = DateTime2), @p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = Int32), @p9='?' (Size = 300), @p10='?' (DbType = DateTime2), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, 0),
(@p5, @p6, @p7, @p8, @p9, 1),
(@p10, @p11, @p12, @p13, @p14, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 09:09:48.804 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Question_Options". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1cf408fc-5406-4154-b418-f4a024d36e7d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Question_Options". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1cf408fc-5406-4154-b418-f4a024d36e7d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 09:09:48.828 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 216.3388ms
2025-03-19 09:09:48.834 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:09:48.837 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The MERGE statement conflicted with the FOREIGN KEY constraint "FK_Question_Options". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:1cf408fc-5406-4154-b418-f4a024d36e7d
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 53
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 09:09:48.877 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null text/plain; charset=utf-8 328.1983ms
2025-03-19 09:10:44.857 +01:00 [INF] Application is shutting down...
2025-03-19 09:10:51.831 +01:00 [INF] âœ… Application started successfully.
2025-03-19 09:10:51.989 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 09:10:52.087 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 09:10:52.091 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 09:10:52.094 +01:00 [INF] Hosting environment: Development
2025-03-19 09:10:52.100 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 09:10:53.467 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 09:10:53.623 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 157.7199ms
2025-03-19 09:10:53.769 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 09:10:53.985 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 215.7473ms
2025-03-19 09:11:02.058 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 09:11:02.079 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 09:11:02.104 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 09:11:02.109 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:11:02.136 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 09:11:02.278 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 09:11:02.953 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 09:11:04.569 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 09:11:04.692 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 09:11:04.697 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType25`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 09:11:04.718 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2575.0494ms
2025-03-19 09:11:04.721 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:11:04.732 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2673.6008ms
2025-03-19 09:11:26.596 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 192
2025-03-19 09:11:26.663 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:11:26.674 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:11:26.865 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionId], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 09:11:26.900 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3f5c43b1-d25a-418c-a282-654623091889
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3f5c43b1-d25a-418c-a282-654623091889
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 09:11:26.923 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 246.4003ms
2025-03-19 09:11:26.926 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:11:26.928 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'CorrectOptionId', table 'BrainThrust-Database.dbo.Questions'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3f5c43b1-d25a-418c-a282-654623091889
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 119
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto questionDto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 46
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 09:11:26.969 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 500 null text/plain; charset=utf-8 372.7224ms
2025-03-19 09:12:48.697 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 133
2025-03-19 09:12:48.708 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:12:48.733 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:12:48.772 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-19 09:12:48.796 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 54.0558ms
2025-03-19 09:12:48.798 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:12:48.799 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 400 null application/problem+json; charset=utf-8 101.8032ms
2025-03-19 09:13:06.460 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 152
2025-03-19 09:13:06.465 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:13:06.467 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:13:06.477 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-19 09:13:06.524 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 51.7275ms
2025-03-19 09:13:06.526 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:13:06.528 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 400 null application/problem+json; charset=utf-8 67.7013ms
2025-03-19 09:13:24.081 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 152
2025-03-19 09:13:24.085 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:13:24.086 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:13:24.123 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-19 09:13:24.133 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 43.8068ms
2025-03-19 09:13:24.148 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:13:24.149 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 400 null application/problem+json; charset=utf-8 68.4589ms
2025-03-19 09:13:33.587 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/questions - application/json 150
2025-03-19 09:13:33.592 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:13:33.593 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:13:33.611 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-19 09:13:33.614 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 3.9345ms
2025-03-19 09:13:33.618 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:13:33.625 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/questions - 400 null application/problem+json; charset=utf-8 38.0189ms
2025-03-19 09:38:40.241 +01:00 [INF] Application is shutting down...
2025-03-19 09:38:48.723 +01:00 [INF] âœ… Application started successfully.
2025-03-19 09:38:48.819 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 09:38:48.910 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 09:38:48.915 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 09:38:48.916 +01:00 [INF] Hosting environment: Development
2025-03-19 09:38:48.918 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 09:38:53.649 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 09:38:53.773 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 124.709ms
2025-03-19 09:38:53.973 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 09:38:54.131 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 158.3434ms
2025-03-19 09:39:00.867 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 09:39:00.913 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 09:39:00.943 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 09:39:00.946 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:39:00.974 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 09:39:01.101 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 09:39:01.668 +01:00 [WRN] The foreign key property 'Question.QuizId1' was created in shadow state because a conflicting property with the simple name 'QuizId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-19 09:39:01.717 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 09:39:03.377 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 09:39:03.524 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 09:39:03.534 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 09:39:03.562 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2580.1302ms
2025-03-19 09:39:03.565 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:39:03.579 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2712.3677ms
2025-03-19 09:39:49.734 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/Question - application/json 192
2025-03-19 09:39:49.799 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:39:49.803 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Entities.Question) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:39:50.101 +01:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 09:39:50.133 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:742a334a-3807-407d-8854-3e72ed8628ac
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:742a334a-3807-407d-8854-3e72ed8628ac
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 09:39:50.167 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 359.9346ms
2025-03-19 09:39:50.169 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:39:50.171 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:742a334a-3807-407d-8854-3e72ed8628ac
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 118
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(Question question) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 09:39:50.224 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/Question - 500 null text/plain; charset=utf-8 487.1214ms
2025-03-19 09:48:56.935 +01:00 [INF] Application is shutting down...
2025-03-19 09:50:00.204 +01:00 [INF] âœ… Application started successfully.
2025-03-19 09:50:00.410 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 09:50:00.582 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 09:50:00.592 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 09:50:00.605 +01:00 [INF] Hosting environment: Development
2025-03-19 09:50:00.616 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 09:51:50.160 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 09:51:50.375 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 216.4719ms
2025-03-19 09:51:50.685 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 09:51:50.907 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 222.6258ms
2025-03-19 09:52:09.092 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 09:52:09.108 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 09:52:09.146 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 09:52:09.149 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:52:09.184 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 09:52:09.363 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 09:52:10.438 +01:00 [WRN] The foreign key property 'Question.QuizId1' was created in shadow state because a conflicting property with the simple name 'QuizId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-19 09:52:10.504 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 09:52:12.488 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 09:52:12.703 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 09:52:12.713 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 09:52:12.752 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 3560.3375ms
2025-03-19 09:52:12.760 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 09:52:12.778 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 3686.9699ms
2025-03-19 09:52:54.266 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/Question - application/json 193
2025-03-19 09:52:54.346 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:52:54.355 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 09:52:54.732 +01:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 09:52:54.779 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8c7b971c-a7f6-4914-8746-d7a5e4d1e7ed
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8c7b971c-a7f6-4914-8746-d7a5e4d1e7ed
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 09:52:54.808 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 446.5465ms
2025-03-19 09:52:54.813 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 09:52:54.816 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8c7b971c-a7f6-4914-8746-d7a5e4d1e7ed
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 118
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto dto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 09:52:54.857 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/Question - 500 null text/plain; charset=utf-8 590.4246ms
2025-03-19 09:56:42.186 +01:00 [INF] Application is shutting down...
2025-03-19 09:56:58.051 +01:00 [INF] âœ… Application started successfully.
2025-03-19 09:56:58.184 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 09:56:58.509 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 09:56:58.515 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 09:56:58.517 +01:00 [INF] Hosting environment: Development
2025-03-19 09:56:58.521 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 10:07:19.869 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 10:07:19.987 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 120.3496ms
2025-03-19 10:07:20.188 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 10:07:20.343 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 154.8928ms
2025-03-19 10:07:42.298 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 10:07:42.316 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 10:07:42.344 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 10:07:42.347 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 10:07:42.371 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 10:07:42.501 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 10:07:43.096 +01:00 [WRN] The foreign key property 'Question.QuizId1' was created in shadow state because a conflicting property with the simple name 'QuizId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-19 10:07:43.141 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 10:07:44.718 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 10:07:44.851 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 10:07:44.857 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 10:07:44.882 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2499.6647ms
2025-03-19 10:07:44.885 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 10:07:44.895 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2597.1061ms
2025-03-19 10:08:09.541 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/Question - application/json 192
2025-03-19 10:08:09.602 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 10:08:09.608 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Question"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionController (BrainThrust).
2025-03-19 10:08:09.801 +01:00 [ERR] Failed executing DbCommand (5ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 10:08:09.826 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f0f55760-d076-4254-8526-1158ab6aaccb
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f0f55760-d076-4254-8526-1158ab6aaccb
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 10:08:09.846 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust) in 235.3121ms
2025-03-19 10:08:09.849 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionController.CreateQuestion (BrainThrust)'
2025-03-19 10:08:09.852 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'CorrectOptionIndex'.
Invalid column name 'QuizId1'.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:f0f55760-d076-4254-8526-1158ab6aaccb
Error Number:207,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 118
   at BrainThrust.src.Controllers.QuestionController.CreateQuestion(CreateQuestionDto dto) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuestionController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 10:08:09.889 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/Question - 500 null text/plain; charset=utf-8 347.6ms
2025-03-19 11:11:06.673 +01:00 [INF] Application is shutting down...
2025-03-19 11:11:30.528 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 11:11:47.022 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 11:11:58.334 +01:00 [INF] âœ… Application started successfully.
2025-03-19 11:11:58.447 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 11:11:58.556 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 11:11:58.561 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 11:11:58.563 +01:00 [INF] Hosting environment: Development
2025-03-19 11:11:58.564 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 11:12:18.291 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 11:12:18.504 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 214.4566ms
2025-03-19 11:12:18.854 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 11:12:19.141 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 286.6636ms
2025-03-19 11:12:32.664 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 11:12:32.683 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 11:12:32.736 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 11:12:32.740 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 11:12:32.790 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 11:12:33.050 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 11:12:34.217 +01:00 [WRN] The foreign key property 'Question.QuizId1' was created in shadow state because a conflicting property with the simple name 'QuizId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-19 11:12:34.297 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 11:12:36.309 +01:00 [INF] Executed DbCommand (59ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 11:12:36.505 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 11:12:36.513 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType24`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 11:12:36.548 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 3748.2887ms
2025-03-19 11:12:36.551 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 11:12:36.566 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 3902.3528ms
2025-03-19 11:13:22.170 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/0/questions - application/json 148
2025-03-19 11:13:22.266 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:13:22.277 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.QuestionRequest) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 11:13:22.410 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 11:13:22.415 +01:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2025-03-19 11:13:22.418 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 137.8265ms
2025-03-19 11:13:22.420 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:13:22.423 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/0/questions - 404 null text/plain; charset=utf-8 252.7006ms
2025-03-19 11:13:36.886 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 148
2025-03-19 11:13:36.894 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:13:36.895 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.QuestionRequest) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 11:13:37.060 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 11:13:37.446 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 11:13:37.529 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 300), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, 1)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 11:13:37.564 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 11:13:37.590 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 656.3491ms
2025-03-19 11:13:37.592 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:13:37.595 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 11:13:37.642 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 500 null text/plain; charset=utf-8 755.7705ms
2025-03-19 11:14:13.173 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 148
2025-03-19 11:14:13.177 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:14:13.179 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.QuestionRequest) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 11:14:13.222 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 11:14:13.238 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 11:14:13.256 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 300), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, 1)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 11:14:13.282 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 11:14:13.285 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 101.0406ms
2025-03-19 11:14:13.287 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:14:13.288 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 11:14:13.299 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 500 null text/plain; charset=utf-8 126.1784ms
2025-03-19 11:14:22.722 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 148
2025-03-19 11:14:22.725 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:14:22.727 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.QuestionRequest) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 11:14:22.745 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 11:14:22.761 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 11:14:22.779 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 300), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, 1)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 11:14:22.802 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 11:14:22.805 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 73.2873ms
2025-03-19 11:14:22.808 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:14:22.809 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: No route matches the supplied values.
   at Microsoft.AspNetCore.Mvc.CreatedAtActionResult.OnFormatting(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsyncCore(ActionContext context, ObjectResult result, Type objectType, Object value)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor.ExecuteAsync(ActionContext context, ObjectResult result)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 11:14:22.822 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 500 null text/plain; charset=utf-8 100.1058ms
2025-03-19 11:27:18.417 +01:00 [INF] Application is shutting down...
2025-03-19 11:27:28.519 +01:00 [INF] âœ… Application started successfully.
2025-03-19 11:27:28.612 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 11:27:28.701 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 11:27:28.707 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 11:27:28.708 +01:00 [INF] Hosting environment: Development
2025-03-19 11:27:28.710 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 11:49:46.899 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 11:49:47.037 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 142.6506ms
2025-03-19 11:49:47.322 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 11:49:47.481 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 159.1881ms
2025-03-19 11:50:09.781 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 11:50:09.798 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 11:50:09.828 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 11:50:09.830 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 11:50:09.859 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 11:50:10.007 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 11:50:10.627 +01:00 [WRN] The foreign key property 'Question.QuizId1' was created in shadow state because a conflicting property with the simple name 'QuizId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-19 11:50:10.668 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 11:50:12.356 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 11:50:12.481 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 11:50:12.488 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType25`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 11:50:12.511 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2646.7246ms
2025-03-19 11:50:12.514 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 11:50:12.529 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2748.1441ms
2025-03-19 11:50:49.866 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 177
2025-03-19 11:50:49.939 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:50:49.947 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 11:50:50.010 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 11:50:50.221 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 11:50:50.262 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 300), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = DateTime2), @p15='?' (DbType = Int32), @p16='?' (Size = 300), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p7, @p8, @p9, @p10, @p11, 0),
(@p12, @p13, @p14, @p15, @p16, 1),
(@p17, @p18, @p19, @p20, @p21, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 11:50:50.321 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 11:50:50.379 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 429.8489ms
2025-03-19 11:50:50.382 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 11:50:50.384 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 517.6705ms
2025-03-19 11:51:45.507 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/quizzes/1/questions/1 - null null
2025-03-19 11:51:45.514 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.GetQuestionById (BrainThrust)'
2025-03-19 11:51:45.527 +01:00 [INF] Route matched with {action = "GetQuestionById", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuestionById(Int32, Int32) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 11:51:45.684 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32), @__quizId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id], [o0].[Created], [o0].[DateDeleted], [o0].[IsDeleted], [o0].[Modified], [o0].[QuestionId], [o0].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[CorrectOptionIndex], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[QuestionText], [q].[QuizId], [q].[QuizId1]
    FROM [Questions] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__id_0 AND [q].[QuizId] = @__quizId_1
) AS [q0]
LEFT JOIN (
    SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
    FROM [Options] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
ORDER BY [q0].[Id]
2025-03-19 11:51:45.693 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-03-19 11:51:45.712 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.GetQuestionById (BrainThrust) in 182.2548ms
2025-03-19 11:51:45.715 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.GetQuestionById (BrainThrust)'
2025-03-19 11:51:45.716 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/quizzes/1/questions/1 - 404 null application/problem+json; charset=utf-8 209.239ms
2025-03-19 12:13:00.584 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/quizzes/1 - null null
2025-03-19 12:13:00.613 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.GetQuiz (BrainThrust)'
2025-03-19 12:13:00.619 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:13:00.648 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 12:13:01.733 +01:00 [INF] Executed DbCommand (37ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__quizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:13:01.759 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType19`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType20`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 12:13:01.770 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.GetQuiz (BrainThrust) in 1148.2548ms
2025-03-19 12:13:01.772 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.GetQuiz (BrainThrust)'
2025-03-19 12:13:01.777 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/quizzes/1 - 200 null application/json; charset=utf-8 1192.583ms
2025-03-19 12:20:15.164 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 12:20:15.169 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:20:15.181 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:20:15.267 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__answer_SelectedOptionId_0='?' (DbType = Int32), @__answer_QuestionId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Id] = @__answer_SelectedOptionId_0 AND [o].[QuestionId] = @__answer_QuestionId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 12:20:15.275 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 12:20:15.281 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 74.6791ms
2025-03-19 12:20:15.283 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:20:15.285 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 121.1472ms
2025-03-19 12:20:39.109 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 12:20:39.114 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:20:39.115 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:20:39.129 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__answer_SelectedOptionId_0='?' (DbType = Int32), @__answer_QuestionId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit) AND [o].[Id] = @__answer_SelectedOptionId_0 AND [o].[QuestionId] = @__answer_QuestionId_1) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 12:20:39.141 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 12:20:39.144 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 20.3564ms
2025-03-19 12:20:39.145 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:20:39.147 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 37.4872ms
2025-03-19 12:36:32.139 +01:00 [INF] Application is shutting down...
2025-03-19 12:36:42.756 +01:00 [INF] âœ… Application started successfully.
2025-03-19 12:36:42.842 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 12:36:42.941 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 12:36:42.946 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 12:36:42.947 +01:00 [INF] Hosting environment: Development
2025-03-19 12:36:42.949 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 12:36:49.822 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 12:36:49.955 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 133.9292ms
2025-03-19 12:36:50.194 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 12:36:50.361 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 167.4742ms
2025-03-19 12:36:58.427 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 12:36:58.448 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 12:36:58.481 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 12:36:58.484 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 12:36:58.516 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 12:36:58.646 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 12:36:59.247 +01:00 [WRN] The foreign key property 'Question.QuizId1' was created in shadow state because a conflicting property with the simple name 'QuizId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-03-19 12:36:59.308 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 12:37:00.933 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 12:37:01.059 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 12:37:01.065 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType25`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 12:37:01.091 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2567.0538ms
2025-03-19 12:37:01.094 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 12:37:01.110 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2682.8678ms
2025-03-19 12:37:35.884 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 112
2025-03-19 12:37:35.938 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 12:37:35.950 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 12:37:36.032 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 12:37:36.255 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId], [QuizId1])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 12:37:36.298 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Options] ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p7, @p8, @p9, @p10, @p11);
2025-03-19 12:37:36.371 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 12:37:36.467 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 512.5205ms
2025-03-19 12:37:36.470 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 12:37:36.472 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 588.5257ms
2025-03-19 12:39:03.069 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 12:39:03.095 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:03.103 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:39:03.316 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 12:39:03.344 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:39:03.365 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 12:39:03.368 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 261.6501ms
2025-03-19 12:39:03.369 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:03.371 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 302.0071ms
2025-03-19 12:39:10.244 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 12:39:10.249 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:10.251 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:39:10.307 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:39:10.319 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 12:39:10.321 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 54.2778ms
2025-03-19 12:39:10.323 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:10.324 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 79.9052ms
2025-03-19 12:39:26.620 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 12:39:26.625 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:26.627 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:39:26.685 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:39:26.700 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 12:39:26.702 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 32.7664ms
2025-03-19 12:39:26.710 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:26.712 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 92.2194ms
2025-03-19 12:39:33.482 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 12:39:33.489 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:33.491 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:39:33.510 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:39:33.529 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 12:39:33.532 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 32.9917ms
2025-03-19 12:39:33.534 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:39:33.540 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 57.6944ms
2025-03-19 12:40:09.271 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 12:40:09.276 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:40:09.277 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:40:09.313 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:40:09.407 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 12:40:09.432 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SelectedOptionId', table 'BrainThrust-Database.dbo.UserQuizAttempts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:22817fb5-ecd5-4e42-9e7d-647ae25f77e4
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SelectedOptionId', table 'BrainThrust-Database.dbo.UserQuizAttempts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:22817fb5-ecd5-4e42-9e7d-647ae25f77e4
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 12:40:09.450 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 161.4733ms
2025-03-19 12:40:09.452 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:40:09.453 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SelectedOptionId', table 'BrainThrust-Database.dbo.UserQuizAttempts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:22817fb5-ecd5-4e42-9e7d-647ae25f77e4
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 93
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 247
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 12:40:09.488 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 216.5104ms
2025-03-19 12:40:31.104 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 12:40:31.108 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:40:31.109 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:40:31.128 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:40:31.157 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 12:40:31.159 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 45.8853ms
2025-03-19 12:40:31.161 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:40:31.163 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 59.1831ms
2025-03-19 12:43:13.542 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 12:43:13.547 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:43:13.548 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 12:43:13.603 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[QuizId1], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [q0].[QuizId1], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 12:43:13.616 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 12:43:13.625 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SelectedOptionId', table 'BrainThrust-Database.dbo.UserQuizAttempts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:22817fb5-ecd5-4e42-9e7d-647ae25f77e4
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SelectedOptionId', table 'BrainThrust-Database.dbo.UserQuizAttempts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:22817fb5-ecd5-4e42-9e7d-647ae25f77e4
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 12:43:13.651 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 65.254ms
2025-03-19 12:43:13.653 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 12:43:13.654 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'SelectedOptionId', table 'BrainThrust-Database.dbo.UserQuizAttempts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:22817fb5-ecd5-4e42-9e7d-647ae25f77e4
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 93
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 247
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 12:43:13.690 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 147.4585ms
2025-03-19 12:55:48.706 +01:00 [INF] Application is shutting down...
2025-03-19 12:56:02.686 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 12:57:42.024 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 12:58:20.507 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 12:59:41.450 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:01:45.293 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:01:59.661 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:02:11.325 +01:00 [INF] âœ… Application started successfully.
2025-03-19 13:02:11.387 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 13:02:11.469 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 13:02:11.473 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 13:02:11.475 +01:00 [INF] Hosting environment: Development
2025-03-19 13:02:11.477 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 13:02:20.665 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 13:02:20.844 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 179.477ms
2025-03-19 13:02:21.097 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 13:02:21.261 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 164.2436ms
2025-03-19 13:02:28.969 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 13:02:28.982 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 13:02:29.018 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 13:02:29.027 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 13:02:29.052 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 13:02:29.202 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 13:02:29.918 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 13:02:31.530 +01:00 [INF] Executed DbCommand (31ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 13:02:31.650 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 13:02:31.656 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType25`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 13:02:31.685 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2623.328ms
2025-03-19 13:02:31.691 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 13:02:31.702 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2732.6831ms
2025-03-19 13:03:57.588 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 177
2025-03-19 13:03:57.638 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 13:03:57.647 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 13:03:57.715 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 13:03:57.981 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:03:58.028 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (Size = 300), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 300), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 13:03:58.086 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 13:03:58.158 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 505.6503ms
2025-03-19 13:03:58.163 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 13:03:58.165 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 577.4125ms
2025-03-19 13:06:33.594 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 100
2025-03-19 13:06:33.618 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:06:33.628 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 13:06:33.752 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 13:06:33.781 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 13:06:33.799 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 13:06:33.802 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 169.7025ms
2025-03-19 13:06:33.803 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:06:33.809 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 214.7938ms
2025-03-19 13:07:03.873 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 13:07:03.879 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:07:03.880 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 13:07:03.925 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 13:07:03.933 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 13:07:03.938 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 18.3544ms
2025-03-19 13:07:03.940 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:07:03.942 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 68.9846ms
2025-03-19 13:08:15.307 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 13:08:15.312 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:08:15.313 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 13:08:15.359 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 13:08:15.402 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 13:08:15.427 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0b3623bb-68b6-414b-a926-c5587636b6a8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0b3623bb-68b6-414b-a926-c5587636b6a8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 13:08:15.445 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 126.8696ms
2025-03-19 13:08:15.447 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:08:15.449 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0b3623bb-68b6-414b-a926-c5587636b6a8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 97
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 247
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 13:08:15.494 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 186.4732ms
2025-03-19 13:08:23.448 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 102
2025-03-19 13:08:23.452 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:08:23.454 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 13:08:23.508 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 13:08:23.525 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 13:08:23.530 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'BrainThrust.src.Data.ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0b3623bb-68b6-414b-a926-c5587636b6a8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0b3623bb-68b6-414b-a926-c5587636b6a8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 13:08:23.556 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 64.8279ms
2025-03-19 13:08:23.558 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:08:23.560 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0b3623bb-68b6-414b-a926-c5587636b6a8
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at BrainThrust.src.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 97
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 247
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 13:08:23.583 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 135.3532ms
2025-03-19 13:12:03.557 +01:00 [INF] Application is shutting down...
2025-03-19 13:12:09.913 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:12:25.547 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:13:32.673 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:13:41.510 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:14:03.308 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:16:06.919 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:17:57.513 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:31:09.222 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:31:23.864 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 13:31:31.997 +01:00 [INF] âœ… Application started successfully.
2025-03-19 13:31:32.066 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 13:31:32.189 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 13:31:32.193 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 13:31:32.196 +01:00 [INF] Hosting environment: Development
2025-03-19 13:31:32.200 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 13:31:45.084 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 13:31:45.195 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 111.1265ms
2025-03-19 13:31:45.400 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 13:31:45.562 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 162.8911ms
2025-03-19 13:31:57.445 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users - application/json 132
2025-03-19 13:31:57.457 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 13:31:57.490 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 13:31:57.495 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.RegisterUser (BrainThrust)'
2025-03-19 13:31:57.519 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(BrainThrust.src.Models.Dtos.CreateUserDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 13:31:57.653 +01:00 [INF] Sign-up attempt for email: oladimejiwilliams@outlook.com
2025-03-19 13:31:58.247 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 13:31:59.891 +01:00 [INF] Executed DbCommand (42ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:31:59.932 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Role] = N'Admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:32:00.165 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2), @p7='?' (Size = 8000) (DbType = Binary), @p8='?' (Size = 4000), @p9='?' (Size = 8000) (DbType = Binary), @p10='?' (Size = 20), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [Created], [DateDeleted], [Email], [FirstName], [LastName], [Modified], [PasswordHash], [PasswordResetToken], [PasswordSalt], [PhoneNumber], [Role], [TokenExpiry])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-03-19 13:32:00.196 +01:00 [INF] Admin registered successfully with email: oladimejiwilliams@outlook.com
2025-03-19 13:32:00.201 +01:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 13:32:00.233 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.RegisterUser (BrainThrust) in 2707.2982ms
2025-03-19 13:32:00.235 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.RegisterUser (BrainThrust)'
2025-03-19 13:32:00.246 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users - 201 null application/json; charset=utf-8 2801.8055ms
2025-03-19 13:32:07.041 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users - application/json 114
2025-03-19 13:32:07.049 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 13:32:07.052 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.RegisterUser (BrainThrust)'
2025-03-19 13:32:07.061 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(BrainThrust.src.Models.Dtos.CreateUserDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 13:32:07.069 +01:00 [INF] Sign-up attempt for email: john.doe@example.com
2025-03-19 13:32:07.122 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:32:07.134 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Role] = N'Admin') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:32:07.146 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 255), @p4='?' (Size = 100), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2), @p7='?' (Size = 8000) (DbType = Binary), @p8='?' (Size = 4000), @p9='?' (Size = 8000) (DbType = Binary), @p10='?' (Size = 20), @p11='?' (Size = 50), @p12='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([Address], [Created], [DateDeleted], [Email], [FirstName], [LastName], [Modified], [PasswordHash], [PasswordResetToken], [PasswordSalt], [PhoneNumber], [Role], [TokenExpiry])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-03-19 13:32:07.152 +01:00 [INF] User registered successfully with email: john.doe@example.com
2025-03-19 13:32:07.156 +01:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType14`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 13:32:07.160 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.RegisterUser (BrainThrust) in 95.5571ms
2025-03-19 13:32:07.165 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.RegisterUser (BrainThrust)'
2025-03-19 13:32:07.167 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users - 201 null application/json; charset=utf-8 126.7621ms
2025-03-19 13:32:35.569 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 132
2025-03-19 13:32:35.575 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 13:32:35.600 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 13:32:35.614 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 13:32:35.622 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 13:32:35.718 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 13:32:35.752 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 13:32:35.754 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType26`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 13:32:35.757 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 140.4895ms
2025-03-19 13:32:35.758 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 13:32:35.761 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 192.5881ms
2025-03-19 13:32:56.074 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/subjects - application/json 132
2025-03-19 13:32:56.139 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust)'
2025-03-19 13:32:56.145 +01:00 [INF] Route matched with {action = "CreateCubject", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCubject(BrainThrust.src.Models.Dtos.CreateSubjectDto) on controller BrainThrust.src.Controllers.SubjectController (BrainThrust).
2025-03-19 13:32:56.152 +01:00 [INF] CreateCubject: Received request to create a new cubject.
2025-03-19 13:32:56.222 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 1000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subjects] ([Created], [DateDeleted], [Description], [Modified], [ThumbnailUrl], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:32:56.227 +01:00 [INF] CreateCubject: Cubject 'Mathematics' created successfully with Id 1.
2025-03-19 13:32:56.230 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.SubjectDto'.
2025-03-19 13:32:56.246 +01:00 [INF] Executed action BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust) in 98.7371ms
2025-03-19 13:32:56.248 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust)'
2025-03-19 13:32:56.249 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/subjects - 201 null application/json; charset=utf-8 175.1353ms
2025-03-19 13:33:05.377 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/subjects - application/json 137
2025-03-19 13:33:05.383 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust)'
2025-03-19 13:33:05.414 +01:00 [INF] Route matched with {action = "CreateCubject", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCubject(BrainThrust.src.Models.Dtos.CreateSubjectDto) on controller BrainThrust.src.Controllers.SubjectController (BrainThrust).
2025-03-19 13:33:05.423 +01:00 [INF] CreateCubject: Received request to create a new cubject.
2025-03-19 13:33:05.448 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 1000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subjects] ([Created], [DateDeleted], [Description], [Modified], [ThumbnailUrl], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:33:05.458 +01:00 [INF] CreateCubject: Cubject 'English Language' created successfully with Id 2.
2025-03-19 13:33:05.460 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.SubjectDto'.
2025-03-19 13:33:05.462 +01:00 [INF] Executed action BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust) in 40.3872ms
2025-03-19 13:33:05.464 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust)'
2025-03-19 13:33:05.465 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/subjects - 201 null application/json; charset=utf-8 88.4829ms
2025-03-19 13:33:13.060 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/subjects - application/json 150
2025-03-19 13:33:13.066 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust)'
2025-03-19 13:33:13.067 +01:00 [INF] Route matched with {action = "CreateCubject", controller = "Subject"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCubject(BrainThrust.src.Models.Dtos.CreateSubjectDto) on controller BrainThrust.src.Controllers.SubjectController (BrainThrust).
2025-03-19 13:33:13.076 +01:00 [INF] CreateCubject: Received request to create a new cubject.
2025-03-19 13:33:13.099 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 1000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 250)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subjects] ([Created], [DateDeleted], [Description], [Modified], [ThumbnailUrl], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:33:13.105 +01:00 [INF] CreateCubject: Cubject 'General Knowledge' created successfully with Id 3.
2025-03-19 13:33:13.107 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.SubjectDto'.
2025-03-19 13:33:13.109 +01:00 [INF] Executed action BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust) in 33.963ms
2025-03-19 13:33:13.111 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.SubjectController.CreateCubject (BrainThrust)'
2025-03-19 13:33:13.113 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/subjects - 201 null application/json; charset=utf-8 52.4731ms
2025-03-19 13:33:32.662 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/topics - application/json 135
2025-03-19 13:33:32.665 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:32.676 +01:00 [INF] Route matched with {action = "CreateTopic", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTopic(BrainThrust.src.Models.Dtos.TopicDto) on controller BrainThrust.src.Controllers.TopicController (BrainThrust).
2025-03-19 13:33:32.721 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[@__topicDto_SubjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Subjects] AS [s]
        WHERE [s].[IsDeleted] = CAST(0 AS bit) AND [s].[Id] = @__topicDto_SubjectId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:33:32.800 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([Created], [DateDeleted], [Description], [Modified], [SubjectId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:33:32.808 +01:00 [INF] CreateTopic: Topic 'Numbers and Operations' created with Id 1.
2025-03-19 13:33:32.811 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.GetTopicDto'.
2025-03-19 13:33:32.816 +01:00 [INF] Executed action BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust) in 132.9149ms
2025-03-19 13:33:32.818 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:32.820 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/topics - 201 null application/json; charset=utf-8 157.9108ms
2025-03-19 13:33:40.757 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/topics - application/json 137
2025-03-19 13:33:40.761 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:40.763 +01:00 [INF] Route matched with {action = "CreateTopic", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTopic(BrainThrust.src.Models.Dtos.TopicDto) on controller BrainThrust.src.Controllers.TopicController (BrainThrust).
2025-03-19 13:33:40.785 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__topicDto_SubjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Subjects] AS [s]
        WHERE [s].[IsDeleted] = CAST(0 AS bit) AND [s].[Id] = @__topicDto_SubjectId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:33:40.814 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([Created], [DateDeleted], [Description], [Modified], [SubjectId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:33:40.818 +01:00 [INF] CreateTopic: Topic 'Algebra Basics' created with Id 2.
2025-03-19 13:33:40.819 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.GetTopicDto'.
2025-03-19 13:33:40.825 +01:00 [INF] Executed action BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust) in 45.7653ms
2025-03-19 13:33:40.827 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:40.829 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/topics - 201 null application/json; charset=utf-8 71.8726ms
2025-03-19 13:33:48.618 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/topics - application/json 140
2025-03-19 13:33:48.622 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:48.624 +01:00 [INF] Route matched with {action = "CreateTopic", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTopic(BrainThrust.src.Models.Dtos.TopicDto) on controller BrainThrust.src.Controllers.TopicController (BrainThrust).
2025-03-19 13:33:48.657 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__topicDto_SubjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Subjects] AS [s]
        WHERE [s].[IsDeleted] = CAST(0 AS bit) AND [s].[Id] = @__topicDto_SubjectId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:33:48.686 +01:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([Created], [DateDeleted], [Description], [Modified], [SubjectId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:33:48.693 +01:00 [INF] CreateTopic: Topic 'Geometry Essentials' created with Id 3.
2025-03-19 13:33:48.696 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.GetTopicDto'.
2025-03-19 13:33:48.697 +01:00 [INF] Executed action BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust) in 56.1456ms
2025-03-19 13:33:48.700 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:48.702 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/topics - 201 null application/json; charset=utf-8 84.6846ms
2025-03-19 13:33:54.701 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/topics - application/json 157
2025-03-19 13:33:54.704 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:54.705 +01:00 [INF] Route matched with {action = "CreateTopic", controller = "Topic"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateTopic(BrainThrust.src.Models.Dtos.TopicDto) on controller BrainThrust.src.Controllers.TopicController (BrainThrust).
2025-03-19 13:33:54.723 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__topicDto_SubjectId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Subjects] AS [s]
        WHERE [s].[IsDeleted] = CAST(0 AS bit) AND [s].[Id] = @__topicDto_SubjectId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:33:54.751 +01:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Int32), @p5='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Topics] ([Created], [DateDeleted], [Description], [Modified], [SubjectId], [Title])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:33:54.757 +01:00 [INF] CreateTopic: Topic 'Grammar Fundamentals' created with Id 4.
2025-03-19 13:33:54.759 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.GetTopicDto'.
2025-03-19 13:33:54.761 +01:00 [INF] Executed action BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust) in 40.7376ms
2025-03-19 13:33:54.762 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.TopicController.CreateTopic (BrainThrust)'
2025-03-19 13:33:54.764 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/topics - 201 null application/json; charset=utf-8 63.7778ms
2025-03-19 13:34:15.867 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/lessons/topics/1/lessons - application/json 168
2025-03-19 13:34:15.872 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.LessonController.CreateLesson (BrainThrust)'
2025-03-19 13:34:15.904 +01:00 [INF] Route matched with {action = "CreateLesson", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[BrainThrust.src.Models.Dtos.GetLessonDto]] CreateLesson(Int32, BrainThrust.src.Models.Dtos.CreateLessonDto) on controller BrainThrust.src.Controllers.LessonController (BrainThrust).
2025-03-19 13:34:15.978 +01:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [t].[Id], [t].[Created], [t].[DateDeleted], [t].[Description], [t].[IsDeleted], [t].[Modified], [t].[SubjectId], [t].[Title]
FROM [Topics] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__p_0
2025-03-19 13:34:16.000 +01:00 [INF] Creating a new lesson under Mopic Id=1, Title=Addition and Subtraction
2025-03-19 13:34:16.071 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 200), @p5='?' (DbType = Int32), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Lessons] ([Content], [Created], [DateDeleted], [Modified], [Title], [TopicId], [VideoUrl])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-03-19 13:34:16.083 +01:00 [INF] Lesson 1 created successfully under Mopic 1
2025-03-19 13:34:16.087 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.GetLessonDto'.
2025-03-19 13:34:16.090 +01:00 [INF] Executed action BrainThrust.src.Controllers.LessonController.CreateLesson (BrainThrust) in 174.1069ms
2025-03-19 13:34:16.094 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.LessonController.CreateLesson (BrainThrust)'
2025-03-19 13:34:16.097 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/lessons/topics/1/lessons - 201 null application/json; charset=utf-8 230.4073ms
2025-03-19 13:34:34.661 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes - application/json 39
2025-03-19 13:34:34.666 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.CreateQuiz (BrainThrust)'
2025-03-19 13:34:34.676 +01:00 [INF] Route matched with {action = "CreateQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuiz(BrainThrust.src.Models.Dtos.CreateQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 13:34:34.684 +01:00 [INF] Received request to create a new quiz.
2025-03-19 13:34:34.698 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__dto_TopicId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Topics] AS [t]
        WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[Id] = @__dto_TopicId_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-19 13:34:34.756 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (Size = 200), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Quizzes] ([Created], [DateDeleted], [Modified], [Title], [TopicId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-03-19 13:34:34.762 +01:00 [INF] Quiz 1 created successfully.
2025-03-19 13:34:34.764 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Dtos.QuizDto'.
2025-03-19 13:34:34.776 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.CreateQuiz (BrainThrust) in 95.9009ms
2025-03-19 13:34:34.778 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.CreateQuiz (BrainThrust)'
2025-03-19 13:34:34.779 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes - 201 null application/json; charset=utf-8 118.1413ms
2025-03-19 13:35:01.692 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 192
2025-03-19 13:35:01.698 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 13:35:01.708 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 13:35:01.758 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 13:35:01.859 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 13:35:01.912 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (Size = 300), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 300), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 13:35:01.934 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 13:35:01.958 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 240.3323ms
2025-03-19 13:35:01.960 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 13:35:01.966 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 273.9186ms
2025-03-19 13:35:25.387 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 100
2025-03-19 13:35:25.392 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:35:25.398 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 13:35:25.493 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 13:35:25.545 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 13:35:25.563 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 13:35:25.565 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 122.6018ms
2025-03-19 13:35:25.567 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:35:25.568 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 180.7398ms
2025-03-19 13:35:33.667 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 100
2025-03-19 13:35:33.671 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:35:33.672 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 13:35:33.690 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 13:35:33.768 +01:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 13:35:33.799 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2938b6bc-7a6e-40a0-9cfb-df1e2e5eb7b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2938b6bc-7a6e-40a0-9cfb-df1e2e5eb7b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 13:35:33.826 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 146.7995ms
2025-03-19 13:35:33.828 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 13:35:33.829 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2938b6bc-7a6e-40a0-9cfb-df1e2e5eb7b9
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 100
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 247
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 13:35:33.862 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 194.9694ms
2025-03-19 14:09:29.870 +01:00 [INF] Application is shutting down...
2025-03-19 14:10:55.259 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 14:11:05.828 +01:00 [FTL] ðŸš¨ Application startup failed.
Microsoft.Extensions.Hosting.HostAbortedException: The host was aborted.
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.ThrowHostAborted()
   at Microsoft.Extensions.Hosting.HostFactoryResolver.HostingListener.OnNext(KeyValuePair`2 value)
   at System.Diagnostics.DiagnosticListener.Write(String name, Object value)
   at System.Diagnostics.DiagnosticSource.Write[T](String name, T value)
   at Microsoft.Extensions.Hosting.HostBuilder.ResolveHost(IServiceProvider serviceProvider, DiagnosticListener diagnosticListener)
   at Microsoft.Extensions.Hosting.HostApplicationBuilder.Build()
   at Microsoft.AspNetCore.Builder.WebApplicationBuilder.Build()
   at Program.<Main>$(String[] args) in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 89
2025-03-19 14:11:11.835 +01:00 [INF] âœ… Application started successfully.
2025-03-19 14:11:11.903 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 14:11:11.974 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 14:11:11.978 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 14:11:11.980 +01:00 [INF] Hosting environment: Development
2025-03-19 14:11:11.981 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 14:11:20.033 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 14:11:20.155 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 122.7202ms
2025-03-19 14:11:20.377 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 14:11:20.554 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 178.4247ms
2025-03-19 14:11:29.490 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-19 14:11:29.539 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 14:11:29.565 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 14:11:29.568 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:11:29.595 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 14:11:29.730 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 14:11:30.314 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 14:11:31.891 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 14:11:32.006 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 14:11:32.011 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType26`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:11:32.038 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2435.4001ms
2025-03-19 14:11:32.041 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:11:32.049 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2558.5355ms
2025-03-19 14:12:03.896 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 192
2025-03-19 14:12:03.953 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 14:12:03.964 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 14:12:04.034 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 14:12:04.249 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 14:12:04.290 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (Size = 300), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 300), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 14:12:04.354 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 14:12:04.407 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 440.1953ms
2025-03-19 14:12:04.411 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 14:12:04.413 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 516.5266ms
2025-03-19 14:12:19.722 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 100
2025-03-19 14:12:19.750 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:12:19.762 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:12:19.912 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 14:12:19.943 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:12:19.996 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 14:12:20.025 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:871396d8-8bb3-40cf-b939-b4cd35d40b19
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:871396d8-8bb3-40cf-b939-b4cd35d40b19
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 14:12:20.046 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 280.6598ms
2025-03-19 14:12:20.048 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:12:20.050 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Questions_QuestionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Questions", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:871396d8-8bb3-40cf-b939-b4cd35d40b19
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 95
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 248
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 14:12:20.091 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 368.3222ms
2025-03-19 14:18:51.123 +01:00 [INF] Application is shutting down...
2025-03-19 14:18:58.300 +01:00 [INF] âœ… Application started successfully.
2025-03-19 14:18:58.417 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 14:18:58.645 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 14:18:58.672 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 14:18:58.674 +01:00 [INF] Hosting environment: Development
2025-03-19 14:18:58.675 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 14:19:14.027 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 14:19:14.240 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 215.437ms
2025-03-19 14:19:14.599 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 14:19:14.883 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 283.9251ms
2025-03-19 14:19:22.089 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-19 14:19:22.114 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 14:19:22.165 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 14:19:22.170 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:19:22.221 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 14:19:22.481 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 14:19:23.781 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 14:19:25.928 +01:00 [INF] Executed DbCommand (56ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 14:19:26.137 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 14:19:26.144 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType27`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:19:26.180 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 3948.6756ms
2025-03-19 14:19:26.182 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:19:26.197 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 4108.4028ms
2025-03-19 14:19:51.603 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 192
2025-03-19 14:19:51.693 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:19:51.702 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:19:51.729 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 14:19:51.732 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 27.1013ms
2025-03-19 14:19:51.735 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:19:51.737 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 134.2993ms
2025-03-19 14:20:57.424 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 241
2025-03-19 14:20:57.469 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:20:57.472 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:20:57.645 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 14:20:57.706 +01:00 [INF] Executed DbCommand (18ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:20:57.855 +01:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-03-19 14:20:57.857 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 381.1681ms
2025-03-19 14:20:57.859 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:20:57.863 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 401 null text/plain; charset=utf-8 439.1262ms
2025-03-19 14:21:35.399 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 241
2025-03-19 14:21:35.405 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:21:35.406 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:21:35.521 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:21:35.528 +01:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-03-19 14:21:35.532 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 120.4998ms
2025-03-19 14:21:35.535 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:21:35.538 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 401 null text/plain; charset=utf-8 138.6323ms
2025-03-19 14:23:25.642 +01:00 [INF] Application is shutting down...
2025-03-19 14:23:32.379 +01:00 [INF] âœ… Application started successfully.
2025-03-19 14:23:32.464 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 14:23:32.563 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 14:23:32.569 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 14:23:32.572 +01:00 [INF] Hosting environment: Development
2025-03-19 14:23:32.574 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 14:23:41.471 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 14:23:41.597 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 127.1354ms
2025-03-19 14:23:41.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 14:23:41.948 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 150.5306ms
2025-03-19 14:23:50.634 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-19 14:23:50.645 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 14:23:50.681 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 14:23:50.684 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:23:50.715 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 14:23:50.877 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 14:23:51.557 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 14:23:53.145 +01:00 [INF] Executed DbCommand (30ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 14:23:53.263 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 14:23:53.270 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType27`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:23:53.295 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2573.3492ms
2025-03-19 14:23:53.298 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:23:53.311 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2676.5248ms
2025-03-19 14:24:48.035 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 241
2025-03-19 14:24:48.094 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:24:48.100 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:24:48.196 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 14:24:48.232 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:24:48.313 +01:00 [INF] Executing UnauthorizedObjectResult, writing value of type 'System.String'.
2025-03-19 14:24:48.315 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 211.0581ms
2025-03-19 14:24:48.319 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:24:48.321 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 401 null text/plain; charset=utf-8 285.9737ms
2025-03-19 14:26:38.016 +01:00 [INF] Application is shutting down...
2025-03-19 14:26:43.242 +01:00 [INF] âœ… Application started successfully.
2025-03-19 14:26:43.334 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 14:26:43.439 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 14:26:43.452 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 14:26:43.455 +01:00 [INF] Hosting environment: Development
2025-03-19 14:26:43.457 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 14:27:11.578 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 14:27:11.700 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 122.9985ms
2025-03-19 14:27:11.827 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 14:27:11.979 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 152.5297ms
2025-03-19 14:27:19.989 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-19 14:27:20.027 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 14:27:20.075 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 14:27:20.078 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:27:20.110 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 14:27:20.250 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 14:27:20.956 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 14:27:22.595 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 14:27:22.740 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 14:27:22.745 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType27`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:27:22.772 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2655.494ms
2025-03-19 14:27:22.775 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:27:22.789 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2799.676ms
2025-03-19 14:27:44.418 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 241
2025-03-19 14:27:44.473 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:27:44.482 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:27:44.583 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 14:27:44.619 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:27:44.700 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 14:27:44.703 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 218.4162ms
2025-03-19 14:27:44.705 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:27:44.709 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 289.7181ms
2025-03-19 14:28:01.220 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 103
2025-03-19 14:28:01.229 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:28:01.240 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:28:01.314 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:28:01.488 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 14:28:01.521 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Options_SelectedOptionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c993bf65-2639-423c-8edb-673d03571886
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Options_SelectedOptionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c993bf65-2639-423c-8edb-673d03571886
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 14:28:01.548 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 304.4873ms
2025-03-19 14:28:01.550 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:28:01.555 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Options_SelectedOptionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c993bf65-2639-423c-8edb-673d03571886
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 95
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 250
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 14:28:01.594 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 374.0659ms
2025-03-19 14:28:18.238 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 14:28:18.243 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:28:18.245 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:28:18.285 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:28:18.313 +01:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 14:28:18.338 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType24`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:28:18.357 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 83.0831ms
2025-03-19 14:28:18.360 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:28:18.363 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 200 null application/json; charset=utf-8 124.2994ms
2025-03-19 14:32:54.841 +01:00 [INF] Application is shutting down...
2025-03-19 14:33:01.299 +01:00 [INF] âœ… Application started successfully.
2025-03-19 14:33:01.392 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-19 14:33:01.457 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-19 14:33:01.461 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-19 14:33:01.463 +01:00 [INF] Hosting environment: Development
2025-03-19 14:33:01.464 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-19 14:33:06.015 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-19 14:33:06.960 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 953.3198ms
2025-03-19 14:33:08.239 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-19 14:33:09.142 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 903.3666ms
2025-03-19 14:33:16.371 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-19 14:33:16.390 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-19 14:33:16.421 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 14:33:16.424 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:33:16.454 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 14:33:16.608 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 14:33:17.324 +01:00 [WRN] No store type was specified for the decimal property 'Score' on entity type 'UserQuizAttempt'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-03-19 14:33:18.948 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 14:33:19.056 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 14:33:19.062 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType27`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:33:19.087 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2628.7452ms
2025-03-19 14:33:19.090 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 14:33:19.101 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2729.975ms
2025-03-19 14:33:52.651 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 105
2025-03-19 14:33:52.744 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:33:52.754 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:33:52.873 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 14:33:52.912 +01:00 [INF] Executed DbCommand (14ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:33:53.001 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 14:33:53.003 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 246.3631ms
2025-03-19 14:33:53.005 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:33:53.008 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 356.7586ms
2025-03-19 14:33:59.025 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 103
2025-03-19 14:33:59.037 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:33:59.062 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:33:59.160 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:33:59.343 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 14:33:59.386 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'ApplicationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Options_SelectedOptionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c449abd2-7249-4fd7-91a3-0f3f2ef91ca2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Options_SelectedOptionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c449abd2-7249-4fd7-91a3-0f3f2ef91ca2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-03-19 14:33:59.423 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 353.7008ms
2025-03-19 14:33:59.429 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:33:59.437 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_UserQuizAttempts_Options_SelectedOptionId". The conflict occurred in database "BrainThrust-Database", table "dbo.Options", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c449abd2-7249-4fd7-91a3-0f3f2ef91ca2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\HP\Desktop\BrainThrust\src\Data\ApplicationDbContext.cs:line 95
   at BrainThrust.src.Controllers.QuizController.SubmitQuiz(SubmitQuizDto submission) in C:\Users\HP\Desktop\BrainThrust\src\Controllers\QuizController.cs:line 248
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Program.<>c.<<<Main>$>b__0_6>d.MoveNext() in C:\Users\HP\Desktop\BrainThrust\Program.cs:line 109
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-03-19 14:33:59.476 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 500 null text/plain; charset=utf-8 450.8016ms
2025-03-19 14:34:02.817 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 14:34:02.823 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:02.824 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:34:02.837 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:34:02.876 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 14:34:02.907 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType24`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:34:02.924 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 90.3745ms
2025-03-19 14:34:02.926 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:02.927 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 200 null application/json; charset=utf-8 109.3807ms
2025-03-19 14:34:14.304 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 14:34:14.311 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:14.316 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:34:14.363 +01:00 [INF] Executed DbCommand (9ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:34:14.395 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 14:34:14.406 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType24`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:34:14.412 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 62.8055ms
2025-03-19 14:34:14.415 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:14.417 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 200 null application/json; charset=utf-8 112.2933ms
2025-03-19 14:34:33.579 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 14:34:33.584 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:33.586 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:34:33.631 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:34:33.665 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 14:34:33.680 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType24`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:34:33.687 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 88.1718ms
2025-03-19 14:34:33.688 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:33.690 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 200 null application/json; charset=utf-8 110.5558ms
2025-03-19 14:34:52.364 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 160
2025-03-19 14:34:52.367 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:52.369 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:34:52.413 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:34:52.464 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserQuizAttempts] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[QuizId], i.[Score], i.[SelectedOptionId], i.[UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 14:34:52.469 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType24`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:34:52.471 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 64.1641ms
2025-03-19 14:34:52.473 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 14:34:52.474 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 200 null application/json; charset=utf-8 110.6309ms
2025-03-19 14:35:11.210 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/quizzes/1 - null null
2025-03-19 14:35:11.214 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.GetQuiz (BrainThrust)'
2025-03-19 14:35:11.230 +01:00 [INF] Route matched with {action = "GetQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuiz(Int32) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 14:35:11.244 +01:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-03-19 14:35:11.269 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__quizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__quizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 14:35:11.282 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType20`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType21`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType22`2[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 14:35:11.290 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.GetQuiz (BrainThrust) in 56.7355ms
2025-03-19 14:35:11.293 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.GetQuiz (BrainThrust)'
2025-03-19 14:35:11.294 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/quizzes/1 - 200 null application/json; charset=utf-8 83.6949ms
2025-03-19 23:27:32.758 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-19 23:27:32.818 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/19/2025 3:33:19 PM', Current time (UTC): '3/19/2025 10:27:32 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-03-19 23:27:32.851 +01:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '3/19/2025 3:33:19 PM', Current time (UTC): '3/19/2025 10:27:32 PM'.
2025-03-19 23:27:32.857 +01:00 [WRN] ðŸš¨ JWT Authentication Failed!
2025-03-19 23:27:32.862 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 23:27:32.867 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Models.Dtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-19 23:27:32.890 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-19 23:27:34.035 +01:00 [INF] Executed DbCommand (48ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__email_0
2025-03-19 23:27:34.064 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-19 23:27:34.072 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType27`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 23:27:34.082 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 1207.7388ms
2025-03-19 23:27:34.096 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-19 23:27:34.102 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 1345.9872ms
2025-03-19 23:29:45.842 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 215
2025-03-19 23:29:45.849 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:29:45.878 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 23:29:45.968 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 23:29:46.061 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 23:29:46.124 +01:00 [INF] Executed DbCommand (33ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (Size = 300), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 300), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 23:29:46.182 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 23:29:46.395 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 509.4749ms
2025-03-19 23:29:46.413 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:29:46.426 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 584.5555ms
2025-03-19 23:31:18.475 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 237
2025-03-19 23:31:18.482 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:31:18.505 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 23:31:18.527 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 23:31:18.548 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 23:31:18.580 +01:00 [INF] Executed DbCommand (20ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (Size = 300), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 300), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 23:31:18.611 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 23:31:18.617 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 107.2088ms
2025-03-19 23:31:18.620 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:31:18.623 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 147.5875ms
2025-03-19 23:31:35.511 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 236
2025-03-19 23:31:35.519 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:31:35.526 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 23:31:35.594 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 23:31:35.616 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 23:31:35.650 +01:00 [INF] Executed DbCommand (17ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (Size = 300), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 300), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 23:31:35.667 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 23:31:35.671 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 87.5652ms
2025-03-19 23:31:35.676 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:31:35.684 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 173.0791ms
2025-03-19 23:31:47.822 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - application/json 196
2025-03-19 23:31:47.828 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:31:47.835 +01:00 [INF] Route matched with {action = "CreateQuestion", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateQuestion(Int32, BrainThrust.src.Models.Dtos.CreateQuestionDto) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 23:31:47.886 +01:00 [INF] Executed DbCommand (38ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__p_0
2025-03-19 23:31:47.911 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = DateTime2), @p4='?' (Size = 500), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Questions] ([CorrectOptionIndex], [Created], [DateDeleted], [Modified], [QuestionText], [QuizId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-19 23:31:47.926 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = DateTime2), @p7='?' (DbType = DateTime2), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (Size = 300), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int32), @p15='?' (Size = 300), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (Size = 300)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [Options] USING (
VALUES (@p6, @p7, @p8, @p9, @p10, 0),
(@p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, 2)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [Text], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [Text])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[Text])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 23:31:47.958 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 23:31:47.962 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust) in 119.8086ms
2025-03-19 23:31:47.965 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.CreateQuestion (BrainThrust)'
2025-03-19 23:31:47.968 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/1/questions - 201 null application/json; charset=utf-8 145.9344ms
2025-03-19 23:32:30.871 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/quizzes/1/questions/1 - null null
2025-03-19 23:32:30.883 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuestionsController.GetQuestionById (BrainThrust)'
2025-03-19 23:32:30.902 +01:00 [INF] Route matched with {action = "GetQuestionById", controller = "Questions"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetQuestionById(Int32, Int32) on controller BrainThrust.src.Controllers.QuestionsController (BrainThrust).
2025-03-19 23:32:31.091 +01:00 [INF] Executed DbCommand (57ms) [Parameters=[@__id_0='?' (DbType = Int32), @__quizId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[Title], [s].[TopicId], [o0].[Id], [o0].[Created], [o0].[DateDeleted], [o0].[IsDeleted], [o0].[Modified], [o0].[QuestionId], [o0].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[CorrectOptionIndex], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[QuestionText], [q].[QuizId], [q1].[Id] AS [Id0], [q1].[Created] AS [Created0], [q1].[DateDeleted] AS [DateDeleted0], [q1].[IsDeleted] AS [IsDeleted0], [q1].[Modified] AS [Modified0], [q1].[Title], [q1].[TopicId]
    FROM [Questions] AS [q]
    INNER JOIN (
        SELECT [q0].[Id], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[Title], [q0].[TopicId]
        FROM [Quizzes] AS [q0]
        WHERE [q0].[IsDeleted] = CAST(0 AS bit)
    ) AS [q1] ON [q].[QuizId] = [q1].[Id]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__id_0 AND [q].[QuizId] = @__quizId_1
) AS [s]
LEFT JOIN (
    SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
    FROM [Options] AS [o]
    WHERE [o].[IsDeleted] = CAST(0 AS bit)
) AS [o0] ON [s].[Id] = [o0].[QuestionId]
ORDER BY [s].[Id], [s].[Id0]
2025-03-19 23:32:31.148 +01:00 [INF] Executing OkObjectResult, writing value of type 'BrainThrust.src.Models.Entities.Question'.
2025-03-19 23:32:31.152 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuestionsController.GetQuestionById (BrainThrust) in 239.5692ms
2025-03-19 23:32:31.155 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuestionsController.GetQuestionById (BrainThrust)'
2025-03-19 23:32:31.158 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/quizzes/1/questions/1 - 200 null application/json; charset=utf-8 286.729ms
2025-03-19 23:35:45.649 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 23:35:45.655 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 23:35:45.703 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 23:35:45.768 +01:00 [INF] Executed DbCommand (45ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 23:35:45.785 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-19 23:35:45.790 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 71.0458ms
2025-03-19 23:35:45.803 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 23:35:45.808 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 400 null text/plain; charset=utf-8 158.1885ms
2025-03-19 23:36:07.014 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 101
2025-03-19 23:36:07.021 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 23:36:07.029 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 23:36:07.096 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 23:36:07.150 +01:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserQuizAttempts] ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2025-03-19 23:36:07.168 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType24`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 23:36:07.181 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 146.3422ms
2025-03-19 23:36:07.185 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 23:36:07.195 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 200 null application/json; charset=utf-8 180.3831ms
2025-03-19 23:37:20.178 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - application/json 341
2025-03-19 23:37:20.186 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 23:37:20.230 +01:00 [INF] Route matched with {action = "SubmitQuiz", controller = "Quiz"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SubmitQuiz(BrainThrust.src.Models.Dtos.SubmitQuizDto) on controller BrainThrust.src.Controllers.QuizController (BrainThrust).
2025-03-19 23:37:20.284 +01:00 [INF] Executed DbCommand (29ms) [Parameters=[@__submission_QuizId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [q1].[Id], [q1].[Created], [q1].[DateDeleted], [q1].[IsDeleted], [q1].[Modified], [q1].[Title], [q1].[TopicId], [s].[Id], [s].[CorrectOptionIndex], [s].[Created], [s].[DateDeleted], [s].[IsDeleted], [s].[Modified], [s].[QuestionText], [s].[QuizId], [s].[Id0], [s].[Created0], [s].[DateDeleted0], [s].[IsDeleted0], [s].[Modified0], [s].[QuestionId], [s].[Text]
FROM (
    SELECT TOP(1) [q].[Id], [q].[Created], [q].[DateDeleted], [q].[IsDeleted], [q].[Modified], [q].[Title], [q].[TopicId]
    FROM [Quizzes] AS [q]
    WHERE [q].[IsDeleted] = CAST(0 AS bit) AND [q].[Id] = @__submission_QuizId_0
) AS [q1]
LEFT JOIN (
    SELECT [q0].[Id], [q0].[CorrectOptionIndex], [q0].[Created], [q0].[DateDeleted], [q0].[IsDeleted], [q0].[Modified], [q0].[QuestionText], [q0].[QuizId], [o0].[Id] AS [Id0], [o0].[Created] AS [Created0], [o0].[DateDeleted] AS [DateDeleted0], [o0].[IsDeleted] AS [IsDeleted0], [o0].[Modified] AS [Modified0], [o0].[QuestionId], [o0].[Text]
    FROM [Questions] AS [q0]
    LEFT JOIN (
        SELECT [o].[Id], [o].[Created], [o].[DateDeleted], [o].[IsDeleted], [o].[Modified], [o].[QuestionId], [o].[Text]
        FROM [Options] AS [o]
        WHERE [o].[IsDeleted] = CAST(0 AS bit)
    ) AS [o0] ON [q0].[Id] = [o0].[QuestionId]
    WHERE [q0].[IsDeleted] = CAST(0 AS bit)
) AS [s] ON [q1].[Id] = [s].[QuizId]
ORDER BY [q1].[Id], [s].[Id]
2025-03-19 23:37:20.340 +01:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (DbType = Int32), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (DbType = DateTime2), @p18='?' (DbType = DateTime2), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p22='?' (DbType = Int32), @p23='?' (DbType = Int32), @p24='?' (DbType = DateTime2), @p25='?' (DbType = DateTime2), @p26='?' (DbType = DateTime2), @p27='?' (DbType = Int32), @p28='?' (DbType = Int32), @p29='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p30='?' (DbType = Int32), @p31='?' (DbType = Int32), @p32='?' (DbType = DateTime2), @p33='?' (DbType = DateTime2), @p34='?' (DbType = DateTime2), @p35='?' (DbType = Int32), @p36='?' (DbType = Int32), @p37='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p38='?' (DbType = Int32), @p39='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [UserQuizAttempts] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, 0),
(@p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, 1),
(@p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, 2),
(@p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, 3),
(@p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, 4)) AS i ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([Created], [DateDeleted], [Modified], [QuestionId], [QuizId], [Score], [SelectedOptionId], [UserId])
VALUES (i.[Created], i.[DateDeleted], i.[Modified], i.[QuestionId], i.[QuizId], i.[Score], i.[SelectedOptionId], i.[UserId])
OUTPUT INSERTED.[Id], INSERTED.[IsDeleted], i._Position;
2025-03-19 23:37:20.358 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType23`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[<>f__AnonymousType24`3[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Nullable`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Decimal, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-19 23:37:20.370 +01:00 [INF] Executed action BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust) in 119.1681ms
2025-03-19 23:37:20.374 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.QuizController.SubmitQuiz (BrainThrust)'
2025-03-19 23:37:20.377 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/quizzes/submit - 200 null application/json; charset=utf-8 198.8492ms
