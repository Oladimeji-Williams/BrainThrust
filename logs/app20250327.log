2025-03-27 08:37:13.601 +01:00 [INF] Application started successfully.
2025-03-27 08:37:13.671 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-27 08:37:13.814 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-27 08:37:13.817 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-27 08:37:13.820 +01:00 [INF] Hosting environment: Development
2025-03-27 08:37:13.822 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-27 08:38:03.903 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-27 08:38:04.033 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 131.8354ms
2025-03-27 08:38:04.117 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-27 08:38:04.244 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 127.1533ms
2025-03-27 08:38:11.936 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-27 08:38:11.948 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-27 08:38:12.024 +01:00 [WRN] JWT Authentication Failed!
2025-03-27 08:38:12.028 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-27 08:38:12.072 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Dtos.UserDtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-27 08:38:12.238 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-27 08:38:14.820 +01:00 [INF] Executed DbCommand (62ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0
2025-03-27 08:38:14.956 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-27 08:38:14.966 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType19`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[BrainThrust.src.Dtos.UserDtos.GetUserDto, BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-27 08:38:14.991 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2913.8621ms
2025-03-27 08:38:14.995 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-27 08:38:15.006 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 3069.7246ms
2025-03-27 08:38:34.140 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/dashboard - null null
2025-03-27 08:38:34.155 +01:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-03-27 08:38:34.171 +01:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-03-27 08:38:34.182 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-03-27 08:38:34.189 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-03-27 08:38:34.192 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/dashboard - 401 0 null 52.5662ms
2025-03-27 08:39:07.692 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/dashboard - null null
2025-03-27 08:39:07.726 +01:00 [INF] Executing endpoint 'BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust)'
2025-03-27 08:39:07.733 +01:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller BrainThrust_API.Controllers.DashboardController (BrainThrust).
2025-03-27 08:39:07.801 +01:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2025-03-27 08:39:07.813 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2025-03-27 08:39:07.825 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Created] >= DATEADD(day, CAST(-30.0E0 AS int), GETUTCDATE())
2025-03-27 08:39:07.837 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2025-03-27 08:39:07.850 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Topics] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2025-03-27 08:39:07.863 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Lessons] AS [l]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-03-27 08:39:07.875 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit)
2025-03-27 08:39:07.938 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[SubjectId], [s0].[Title] AS [SubjectName], [e0].[Enrollments]
FROM (
    SELECT TOP(@__p_0) [e].[SubjectId], COUNT(*) AS [Enrollments]
    FROM [Enrollments] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [e].[SubjectId]
    ORDER BY COUNT(*) DESC
) AS [e0]
INNER JOIN (
    SELECT [s].[Id], [s].[Title]
    FROM [Subjects] AS [s]
    WHERE [s].[IsDeleted] = CAST(0 AS bit)
) AS [s0] ON [e0].[SubjectId] = [s0].[Id]
ORDER BY [e0].[Enrollments] DESC
2025-03-27 08:39:07.963 +01:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[QuizId], CAST([u].[TotalScore] AS int), [u].[IsPassed], [u].[Created]
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
ORDER BY [u].[Created] DESC
2025-03-27 08:39:07.983 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], CAST(CAST(COALESCE(SUM([u].[TotalScore]), 0.0) AS int) AS float) AS [TotalScore]
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
GROUP BY [u].[UserId]
ORDER BY CAST(CAST(COALESCE(SUM([u].[TotalScore]), 0.0) AS int) AS float) DESC
2025-03-27 08:39:07.994 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [SubjectProgresses] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit) AND [s].[UserId] = @__userId_0 AND [s].[IsCompleted] = CAST(1 AS bit)
2025-03-27 08:39:08.006 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [TopicProgresses] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[UserId] = @__userId_0 AND [t].[IsCompleted] = CAST(1 AS bit)
2025-03-27 08:39:08.019 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [LessonProgresses] AS [l]
WHERE [l].[IsDeleted] = CAST(0 AS bit) AND [l].[UserId] = @__userId_0 AND [l].[IsCompleted] = CAST(1 AS bit)
2025-03-27 08:39:08.029 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0 AND [u].[IsPassed] = CAST(1 AS bit)
2025-03-27 08:39:08.038 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0
2025-03-27 08:39:08.055 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[QuizId]
    FROM [UserQuizAttempts] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0
) AS [u0]
2025-03-27 08:39:08.064 +01:00 [INF] Executing OkObjectResult, writing value of type 'BrainThrust.src.Dtos.ReportDtos.DashboardDto'.
2025-03-27 08:39:08.087 +01:00 [INF] Executed action BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust) in 349.6384ms
2025-03-27 08:39:08.090 +01:00 [INF] Executed endpoint 'BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust)'
2025-03-27 08:39:08.091 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/dashboard - 200 null application/json; charset=utf-8 399.7346ms
2025-03-27 08:40:16.914 +01:00 [INF] Application is shutting down...
2025-03-27 09:13:42.261 +01:00 [INF] Application started successfully.
2025-03-27 09:13:42.340 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-27 09:13:42.416 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-27 09:13:42.420 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-27 09:13:42.422 +01:00 [INF] Hosting environment: Development
2025-03-27 09:13:42.423 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-27 09:13:59.885 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-27 09:14:00.004 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 119.6632ms
2025-03-27 09:14:00.202 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-27 09:14:00.330 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 128.1283ms
2025-03-27 09:14:14.423 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-27 09:14:14.442 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-27 09:14:14.489 +01:00 [WRN] JWT Authentication Failed!
2025-03-27 09:14:14.492 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-27 09:14:14.515 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Dtos.UserDtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-27 09:14:14.665 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-27 09:14:16.874 +01:00 [INF] Executed DbCommand (53ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0
2025-03-27 09:14:16.988 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-27 09:14:16.996 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType19`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[BrainThrust.src.Dtos.UserDtos.GetUserDto, BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-27 09:14:17.026 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2505.7273ms
2025-03-27 09:14:17.029 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-27 09:14:17.041 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2617.9324ms
2025-03-27 09:15:09.440 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/dashboard - null null
2025-03-27 09:15:09.507 +01:00 [INF] Executing endpoint 'BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust)'
2025-03-27 09:15:09.512 +01:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller BrainThrust_API.Controllers.DashboardController (BrainThrust).
2025-03-27 09:15:09.572 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Id] = @__p_0
2025-03-27 09:15:09.594 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:15:09.606 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:15:09.618 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Created] >= DATEADD(day, CAST(-30.0E0 AS int), GETUTCDATE())
2025-03-27 09:15:09.628 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:15:09.641 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Topics] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:15:09.653 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Lessons] AS [l]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:15:09.662 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:15:09.749 +01:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[SubjectId], [s0].[Title] AS [SubjectName], [e0].[Enrollments]
FROM (
    SELECT TOP(@__p_0) [e].[SubjectId], COUNT(*) AS [Enrollments]
    FROM [Enrollments] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [e].[SubjectId]
    ORDER BY COUNT(*) DESC
) AS [e0]
INNER JOIN (
    SELECT [s].[Id], [s].[Title]
    FROM [Subjects] AS [s]
    WHERE [s].[IsDeleted] = CAST(0 AS bit)
) AS [s0] ON [e0].[SubjectId] = [s0].[Id]
ORDER BY [e0].[Enrollments] DESC
2025-03-27 09:15:09.775 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[QuizId], CAST([u].[TotalScore] AS int), [u].[IsPassed], [u].[Created]
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
ORDER BY [u].[Created] DESC
2025-03-27 09:15:09.798 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], CAST(CAST(COALESCE(SUM([u].[TotalScore]), 0.0) AS int) AS float) AS [TotalScore]
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
GROUP BY [u].[UserId]
ORDER BY CAST(CAST(COALESCE(SUM([u].[TotalScore]), 0.0) AS int) AS float) DESC
2025-03-27 09:15:09.808 +01:00 [INF] Executing OkObjectResult, writing value of type 'BrainThrust.src.Dtos.ReportDtos.DashboardDto'.
2025-03-27 09:15:09.833 +01:00 [INF] Executed action BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust) in 319.3098ms
2025-03-27 09:15:09.838 +01:00 [INF] Executed endpoint 'BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust)'
2025-03-27 09:15:09.840 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/dashboard - 200 null application/json; charset=utf-8 399.914ms
2025-03-27 09:16:31.036 +01:00 [INF] Application is shutting down...
2025-03-27 09:16:42.999 +01:00 [INF] Application started successfully.
2025-03-27 09:16:43.062 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-27 09:16:43.130 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-27 09:16:43.134 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-27 09:16:43.138 +01:00 [INF] Hosting environment: Development
2025-03-27 09:16:43.140 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-27 09:16:48.863 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/index.html - null null
2025-03-27 09:16:48.985 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/index.html - 200 null text/html;charset=utf-8 122.3186ms
2025-03-27 09:16:49.180 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - null null
2025-03-27 09:16:49.307 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 126.6699ms
2025-03-27 09:17:01.492 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5073/api/users/login - application/json 131
2025-03-27 09:17:01.511 +01:00 [WRN] Failed to determine the https port for redirect.
2025-03-27 09:17:01.565 +01:00 [WRN] JWT Authentication Failed!
2025-03-27 09:17:01.568 +01:00 [INF] Executing endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-27 09:17:01.590 +01:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(BrainThrust.src.Dtos.UserDtos.UserLoginDto) on controller BrainThrust.src.Controllers.UserController (BrainThrust).
2025-03-27 09:17:01.740 +01:00 [INF] Login attempt for email: oladimejiwilliams@outlook.com
2025-03-27 09:17:04.050 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__ToLower_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[Address], [u].[Created], [u].[DateDeleted], [u].[Email], [u].[FirstName], [u].[IsDeleted], [u].[LastName], [u].[Modified], [u].[PasswordHash], [u].[PasswordResetToken], [u].[PasswordSalt], [u].[PhoneNumber], [u].[Role], [u].[TokenExpiry]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND LOWER([u].[Email]) = @__ToLower_0
2025-03-27 09:17:04.186 +01:00 [INF] User oladimejiwilliams@outlook.com successfully logged in.
2025-03-27 09:17:04.194 +01:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType19`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[BrainThrust.src.Dtos.UserDtos.GetUserDto, BrainThrust, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-27 09:17:04.224 +01:00 [INF] Executed action BrainThrust.src.Controllers.UserController.Login (BrainThrust) in 2628.9929ms
2025-03-27 09:17:04.227 +01:00 [INF] Executed endpoint 'BrainThrust.src.Controllers.UserController.Login (BrainThrust)'
2025-03-27 09:17:04.241 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5073/api/users/login - 200 null application/json; charset=utf-8 2749.1312ms
2025-03-27 09:17:29.942 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5073/api/dashboard - null null
2025-03-27 09:17:29.995 +01:00 [INF] Executing endpoint 'BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust)'
2025-03-27 09:17:30.015 +01:00 [INF] Route matched with {action = "GetDashboard", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetDashboard() on controller BrainThrust_API.Controllers.DashboardController (BrainThrust).
2025-03-27 09:17:30.064 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:17:30.077 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:17:30.091 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[Created] >= DATEADD(day, CAST(-30.0E0 AS int), GETUTCDATE())
2025-03-27 09:17:30.121 +01:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Subjects] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:17:30.134 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Topics] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:17:30.151 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Lessons] AS [l]
WHERE [l].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:17:30.163 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Quizzes] AS [q]
WHERE [q].[IsDeleted] = CAST(0 AS bit)
2025-03-27 09:17:30.227 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [e0].[SubjectId], [s0].[Title] AS [SubjectName], [e0].[Enrollments]
FROM (
    SELECT TOP(@__p_0) [e].[SubjectId], COUNT(*) AS [Enrollments]
    FROM [Enrollments] AS [e]
    WHERE [e].[IsDeleted] = CAST(0 AS bit)
    GROUP BY [e].[SubjectId]
    ORDER BY COUNT(*) DESC
) AS [e0]
INNER JOIN (
    SELECT [s].[Id], [s].[Title]
    FROM [Subjects] AS [s]
    WHERE [s].[IsDeleted] = CAST(0 AS bit)
) AS [s0] ON [e0].[SubjectId] = [s0].[Id]
ORDER BY [e0].[Enrollments] DESC
2025-03-27 09:17:30.258 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], [u].[QuizId], CAST([u].[TotalScore] AS int), [u].[IsPassed], [u].[Created]
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
ORDER BY [u].[Created] DESC
2025-03-27 09:17:30.279 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_0) [u].[UserId], CAST(CAST(COALESCE(SUM([u].[TotalScore]), 0.0) AS int) AS float) AS [TotalScore]
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit)
GROUP BY [u].[UserId]
ORDER BY CAST(CAST(COALESCE(SUM([u].[TotalScore]), 0.0) AS int) AS float) DESC
2025-03-27 09:17:30.293 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [SubjectProgresses] AS [s]
WHERE [s].[IsDeleted] = CAST(0 AS bit) AND [s].[UserId] = @__userId_0 AND [s].[IsCompleted] = CAST(1 AS bit)
2025-03-27 09:17:30.304 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [TopicProgresses] AS [t]
WHERE [t].[IsDeleted] = CAST(0 AS bit) AND [t].[UserId] = @__userId_0 AND [t].[IsCompleted] = CAST(1 AS bit)
2025-03-27 09:17:30.316 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [LessonProgresses] AS [l]
WHERE [l].[IsDeleted] = CAST(0 AS bit) AND [l].[UserId] = @__userId_0 AND [l].[IsCompleted] = CAST(1 AS bit)
2025-03-27 09:17:30.328 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0 AND [u].[IsPassed] = CAST(1 AS bit)
2025-03-27 09:17:30.339 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [UserQuizAttempts] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0
2025-03-27 09:17:30.355 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM (
    SELECT DISTINCT [u].[QuizId]
    FROM [UserQuizAttempts] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS bit) AND [u].[UserId] = @__userId_0
) AS [u0]
2025-03-27 09:17:30.363 +01:00 [INF] Executing OkObjectResult, writing value of type 'BrainThrust.src.Dtos.ReportDtos.DashboardDto'.
2025-03-27 09:17:30.390 +01:00 [INF] Executed action BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust) in 370.8394ms
2025-03-27 09:17:30.394 +01:00 [INF] Executed endpoint 'BrainThrust_API.Controllers.DashboardController.GetDashboard (BrainThrust)'
2025-03-27 09:17:30.395 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5073/api/dashboard - 200 null application/json; charset=utf-8 452.9401ms
2025-03-27 09:27:36.200 +01:00 [INF] Application is shutting down...
2025-03-27 09:27:49.845 +01:00 [INF] Application started successfully.
2025-03-27 09:27:49.910 +01:00 [INF] User profile is available. Using 'C:\Users\HP\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-27 09:27:49.974 +01:00 [INF] Now listening on: http://localhost:5073
2025-03-27 09:27:49.980 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-27 09:27:49.983 +01:00 [INF] Hosting environment: Development
2025-03-27 09:27:49.984 +01:00 [INF] Content root path: C:\Users\HP\Desktop\BrainThrust
2025-03-27 12:35:45.071 +01:00 [INF] Application is shutting down...
